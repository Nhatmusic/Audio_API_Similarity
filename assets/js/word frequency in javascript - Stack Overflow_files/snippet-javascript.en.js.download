!function(t,e,n){function i(t){return this._state={"html":null,"css":null,"js":null,"console":!0,"hide":!1},this._readonly=!1,this._codeArea=null,this._snip=null,this._menu=null,this._footer=null,this._jQuerySelect=null,this._d3Select=null,this._knockoutSelect=null,this._angularJSSelect=null,this._vueJSSelect=null,this._reactJSSelect=null,this._reactDomJSSelect=null,this._hide=!1,this._console=!0,this._boxHtml=null,this._boxCss=null,this._boxJs=null,this._boxResult=null,this._codeMirrorHtml=null,this._codeMirrorCss=null,this._codeMirrorJs=null,t.readonly!==n&&t.readonly&&(this._readonly=!0),this}function r(){return this._state={"html":null,"css":null,"js":null,"console":!1,"hide":!1},this._menu=null,this._snip=null,this._results=null,this._boxResult=null,this}function a(t,e,n){return t.replace(/^(?=.)/gm,new Array(e*n+1).join(" "))}function o(t){var e="\n\n<!-- begin snippet: js hide: "+t.hide+" console: "+t.console+" babel: "+t.babel+" -->\n\n";return""!=t.js&&(e+="<!-- language: lang-js -->\n\n"+a(t.js,1,4)+"\n\n"),""!=t.css&&(e+="<!-- language: lang-css -->\n\n"+a(t.css,1,4)+"\n\n"),""!=t.html&&(e+="<!-- language: lang-html -->\n\n"+a(t.html,1,4)+"\n\n"),e+="<!-- end snippet -->\n\n"}function s(t,e,n,i){var r=/<!--\s+language:\s*lang-js\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi,a=/<!--\s+language:\s*lang-css\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi,o=/<!--\s+language:\s*lang-html\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi;try{var s=r.exec(t),c=a.exec(t),u=o.exec(t),l="",d="",f="";if(null!=s&&(l=s[1].trim().replace(/^    /gm,"")),null!=c&&(d=c[1].trim().replace(/^    /gm,"")),null!=u&&(f=u[1].trim().replace(/^    /gm,"")),""==l&&""==d&&""==f)return null;var h={"js":l,"css":d,"html":f,"console":n===!0||"true"===n,"hide":e===!0||"true"===e,"babel":i===!0||"true"===i};return h}catch(p){return null}}function c(t){if(!StackExchange.snippets.renderer)return t;var e="sandbox"in document.createElement("iframe");if(!e)return t;var n=/<!--\s+begin snippet:\s*[a-z]+\s*(?:hide:\s*([a-zA-Z]+))?\s*(?:console:\s*([a-zA-Z]+))?\s*(?:babel:\s*([a-zA-Z]+))?\s+-->([\s\S]*?)<!--\s+end snippet\s+-->/gi;return t=t.replace(n,function(t,e,n,i,r){return StackExchange.snippets.renderer(r,e,n,i)})}function u(){StackExchange.snippets.renderer&&StackExchange.snippets.redraw||(StackExchange.snippets.redraw=function(){t("div.snippet").each(function(){var e=t(this);return e.closest(".downvoted-answer").length>0?!0:(l(e),void 0)})},StackExchange.snippets.renderer=function(e,n,i,r){n||(n=!1),i||(i=!1),r||(r=!1);var a=s(e,n,i,r);if(null==a)return e;var o=t('<div class="snippet" data-lang="js" data-hide="'+n+'" data-console="'+i+'"></div>'),c=t('<div class="snippet-code"></div>');n&&c.addClass("snippet-currently-hidden"),o.append(c),""!=a.js&&c.append(t('<pre class="snippet-code-js lang-js prettyprint-override">').append(t("<code>").text(a.js))),""!=a.css&&c.append(t('<pre class="snippet-code-css lang-css prettyprint-override">').append(t("<code>").text(a.css))),""!=a.html&&c.append(t('<pre class="snippet-code-html lang-html prettyprint-override">').append(t("<code>").text(a.html)));var u=f();return c.snippet({"state":a}),v[u]=o,"<pre>"+u+"</pre>"},StackExchange.snippets.redraw())}function l(e){var n=e.find(".snippet-code");0==n.length&&(n=e);var i=n.find("pre.snippet-code-js").text(),r=n.find("pre.snippet-code-css").text(),a=n.find("pre.snippet-code-html").text(),o={"js":i,"css":r,"html":a,"console":e.data("console")===!0,"hide":e.data("hide")===!0,"babel":e.data("babel")===!0};if(n.snippet({"state":o}),(StackExchange.options.user.isAnonymous||0==e.parent().length||0==t("textarea#wmd-input").length||t(".popup-suggested-edit").length)&&e.find(".copySnippet").hide(),e.data("hide")===!0){n.hide(),n.addClass("snippet-currently-hidden"),e.find(".snippet-display").remove();var s=t('<div class="snippet-display" style="vertical-align: center"></div>').append(t("<p></p>").append(t('<a class="snippet-show-link-chevron"><span class="expander-arrow-hide" style="vertical-align: middle;"></span><a class="snippet-show-link"><span class="show-hide" data-ishidden="true" style="vertical-align: middle">Show code snippet</span></a>')));s.click(function(){n.toggle();var e=t(this).find(".show-hide");e.data("ishidden")===!0?(e.text("Hide code snippet"),t(this).find(".expander-arrow-hide").removeClass("expander-arrow-hide").addClass("expander-arrow-show"),e.data("ishidden",!1)):(e.text("Show code snippet"),t(this).find(".expander-arrow-show").removeClass("expander-arrow-show").addClass("expander-arrow-hide"),e.data("ishidden",!0))}),e.prepend(s)}else n.show(),n.removeClass("snippet-currently-hidden"),e.find(".snippet-display").remove()}var d=!1,f=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),h=StackExchange.settings.snippets.renderDomain,p=null,g=function(e){return p?t.when():t.ajax("/snippets/editor-ui"+(e?"?readOnly=true":""),{"success":function(t){p=t}})};t.fn.snippet=function(a){return a=a||{},this.each(function(){var o=t(this),s=o.data("_snippet");if(!s){var c=a.markdownPluginMode!==n&&a.markdownPluginMode;if(s=c?new i(a):new r(a),c){var u=function(){s.uiInnerHtml=p,s.generate(o),s.resize(),t(e).resize(function(){s.resize()}),o.data("_snippet",s),a.resize!==n&&a.resize&&s.resize(),a.state!==n&&null!=a.state&&s.load(a.state)};StackExchange.using("snippetsJsCodeMirror",function(){setTimeout(function(){g(a.readonly).then(u)},1)})}else s.generate(o),o.data("_snippet",s),a.resize!==n&&a.resize&&s.resize(),a.state!==n&&null!=a.state&&s.load(a.state)}})},i.prototype={"uiInnerHtml":null,"registerExternalLibChange":function(n,i,r){function a(){var t=r.getValue(),e=t.match(s);e&&e.length>2?n.val(e[1]+":"+e[2]):n.val("")}var o="function"==typeof i?i:function(t,e){return i.replace(/\*version\*/g,t).replace(/\*file\*/g,e)},s=o("##version##","##file##").replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&").replace("cdnjs\\.cloudflare\\.com","(?:cdnjs\\.cloudflare\\.com|ajax\\.googleapis\\.com)").replace(/##version##/g,"(.*?)").replace(/##file##/g,"(.*?)");n.change(function(){var e=t(this).val().split(":"),n=e.length>1?e[1]:"";e=e[0];var i=r.getValue(),a=!1,c=""===e?"":o(e,n);return i=i.replace(new RegExp(s,"g"),function(){return a=!0,c}),i=i.trim(),a?(r.setValue(i),void 0):(""!==e&&(r.setValue(c+"\n"+i),r.save()),void 0)});var c;r.on("change",function(){e.clearTimeout(c),c=e.setTimeout(a,1e3)})},"generate":function(n){function i(t,n,i){var a,o=CodeMirror.fromTextArea(t,{"electricChars":!1,"smartIndent":!1,"lineNumbers":!0,"lineWrapping":!0,"mode":n,"tabSize":2,"indentWithTabs":!1,"readOnly":r._readonly});return o.on("change",function(){d=!0,e.clearTimeout(a),a=e.setTimeout(function(){o.save()},500)}),o.beautify=function(){o.setValue(i(o.getValue().trim(),{"indent_size":o.options.tabSize,"indent_char":" ","unformatted":["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"]}))},o}var r=this;return r._snip?r._snip:(r._snip=t(r.uiInnerHtml),t(r._snip).find("#snpte-close-button").click(function(e){return StackExchange.helpers.closePopups(t(this).closest(".snippet-modal"),"esc"),e.preventDefault(),!1}),r._jQuerySelect=r._snip.find("#snpte-jquery-select"),r._d3Select=r._snip.find("#snpte-d3-select"),r._knockoutSelect=r._snip.find("#snpte-knockout-select"),r._angularJSSelect=r._snip.find("#snpte-angular-select"),r._vueJSSelect=r._snip.find("#snpte-vue-select"),r._reactJSSelect=r._snip.find("#snpte-react-select"),r._reactDomJSSelect=r._snip.find("#snpte-react-dom-select"),r._hide=r._snip.find("#snpte-hide-snippet"),r._console=r._snip.find("#snpte-show-console"),r._babel=r._snip.find("#snpte-use-babel"),r._snip.find("#snpte-button-run").click(function(){r.run()}),r._snip.find("#snpte-button-tidy").click(function(){r._codeMirrorHtml.beautify(),r._codeMirrorCss.beautify(),r._codeMirrorJs.beautify()}),r._snip.find("#snpte-button-insert").click(function(){StackExchange.helpers.closePopups(t(".snippet-modal"))}),r._snip.find("#snpte-button-reset").click(function(){r.clear()}),n.empty().append(r._snip),r._boxHtml=r._snip.find("#snpte-box-edit-html"),r._boxCss=r._snip.find("#snpte-box-edit-css"),r._boxJs=r._snip.find("#snpte-box-edit-js"),r._boxResult=r._snip.find("#snpte-box-edit-result"),CodeMirror.commands.insertTab=CodeMirror.commands.insertSoftTab,CodeMirror.keyMap.default["Shift-Tab"]="indentLess",CodeMirror.commands.indentAuto=function(t){t.beautify()},r._codeMirrorHtml=i(r._boxHtml[0],"htmlmixed",html_beautify),r._codeMirrorCss=i(r._boxCss[0],"css",css_beautify),r._codeMirrorJs=i(r._boxJs[0],"javascript",js_beautify),r.registerExternalLibChange(r._jQuerySelect,'<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/*version*/*file*"></script>',r._codeMirrorHtml),r.registerExternalLibChange(r._d3Select,'<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/*version*/*file*"></script>',r._codeMirrorHtml),r.registerExternalLibChange(r._knockoutSelect,'<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/*version*/*file*"></script>',r._codeMirrorHtml),r.registerExternalLibChange(r._angularJSSelect,'<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/*version*/*file*"></script>',r._codeMirrorHtml),r.registerExternalLibChange(r._vueJSSelect,'<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/*version*/*file*"></script>',r._codeMirrorHtml),r.registerExternalLibChange(r._reactJSSelect,function(t,e){var n=(r._reactDomJSSelect.find("option[value^='"+t+"']").attr("value")||"").split(":"),i=n[1]||e;return'<script src="https://cdnjs.cloudflare.com/ajax/libs/react/'+t+"/"+e+'"></script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/'+t+"/"+i+'"></script>'},r._codeMirrorHtml),r._snip.find("#snpte-button-extlib").click(function(){function t(t,e){return t.length<e.length?!1:(t=t.toLowerCase(),0!=t.indexOf("https://")&&0!=t.indexOf("http://")&&0!=t.indexOf("//")?!1:t.substr(t.length-e.length,e.length).toLowerCase()==e.toLowerCase()?!0:!1)}var e=prompt("Please enter the URL of an external JS or CSS file");if(null!=e&&""!=e&&""!=e.trim()){var n=r._codeMirrorHtml.getValue();if(t(e,".css")){var i='<link href="'+e+'" rel="stylesheet"/>';r._codeMirrorHtml.setValue(i+"\n"+n)}else if(t(e,".js")){var i='<script src="'+e+'"></script>';r._codeMirrorHtml.setValue(i+"\n"+n)}else alert("Sorry, but that resource is invalid. Resources must begin with http:// or https:// and allowed extensions are: .css, .js")}}),t.each([r._codeMirrorHtml,r._codeMirrorCss,r._codeMirrorJs],function(e,n){n.on("focus",function(){t(n.getInputField()).parent().parent().parent().children(".-name").hide()}),n.on("blur",function(){t(n.getInputField()).parent().parent().parent().children(".-name").show()})}),void 0)},"run":function(){this.save(),this.writeResult()},"load":function(t){null!=t.html&&(this._state.html=t.html,this._boxHtml.val(t.html)),null!=t.css&&(this._state.css=t.css,this._boxCss.val(t.css)),null!=t.js&&(this._state.js=t.js,this._boxJs.val(t.js)),null!=t.console&&(this._state.console=t.console,t.console===!1&&this._console.prop("checked",t.console)),null!=t.hide&&(this._state.hide=t.hide,t.hide===!0&&this._hide.prop("checked",t.hide)),null!=t.babel&&(this._state.babel=t.babel,t.babel===!0&&this._babel.prop("checked",t.babel)),this._codeMirrorHtml.setValue(t.html),this._codeMirrorCss.setValue(t.css),this._codeMirrorJs.setValue(t.js),d=!1},"clear":function(){this._boxHtml.val(""),this._boxCss.val(""),this._boxJs.val(""),this._jQuerySelect.val(""),this._d3Select.val(""),this._knockoutSelect.val(""),this._angularJSSelect.val(""),this._vueJSSelect.val(""),this._reactJSSelect.val(""),this._console.prop("checked",!0),this._hide.prop("checked",!1),this._babel.prop("checked",!1);var e="";null!=h&&(e="//"+h);var n=e+"/js",i=t('<form style="display: none;" action="'+n+'" method="GET" target="'+this._boxResult.attr("name")+'"></form>').appendTo("body");i.submit(),this._codeMirrorHtml.setValue(""),this._codeMirrorCss.setValue(""),this._codeMirrorJs.setValue("")},"save":function(){var t=this;return t._state.html=t._boxHtml.val(),t._state.css=t._boxCss.val(),t._state.js=t._boxJs.val(),t._state.console=t._console.prop("checked"),t._state.hide=t._hide.prop("checked"),t._state.babel=t._babel.prop("checked"),t._state},"writeResult":function(){var e=this,n=e._state.css,i=e._state.js,r=e._state.html,a=e._state.console,o=e._state.babel;if(""!=n||""!=i||""!=r){var s="";null!=h&&(s="//"+h);var c=s+"/js",u=t('<form style="display: none;" action="'+c+'" method="POST" target="'+e._boxResult.attr("name")+'"></form>');t('<textarea name="js"></textarea>').val(i).appendTo(u),t('<textarea name="css"></textarea>').val(n).appendTo(u),t('<textarea name="html"></textarea>').val(r).appendTo(u),t('<input type="text" name="console"></input>').attr("value",a===!0).appendTo(u),t('<input type="text" name="babel"></input>').attr("value",o===!0).appendTo(u),u.appendTo("body"),u.submit(),u.remove()}},"resize":function(){var t=d;if(!this.uiInnerHtml){var e=this._menu.outerHeight(!0),n=this._footer.outerHeight(!0),i=this._snip.height()-e-n;this._codeArea.css({"height":i})}this._codeMirrorHtml.refresh(),this._codeMirrorCss.refresh(),this._codeMirrorJs.refresh(),d=t}},r.prototype={"generate":function(n){var i=this;if(i._snip)return i._snip;i._expandedSnippet=null,i._boxResult=t('<iframe name="'+f()+'" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit" frameBorder="0"></iframe>'),i._snip=!0;var r=t('<button type="button"><span class="icon-play-white _hover"></span> Run code snippet</button>').click(function(){i.run(),s.hide()}),a=t('<button type="button" class="hideResults btn-clear">Hide results</button>').click(function(){i.hide(),s.show()});if(a.hide(),!StackExchange.options.isMobile)var s=t('<div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div>').click(function(){var n=i._expandedSnippet;if(n){var r=n.element;r.removeClass("expanded-snippet"),r.find(".snippet-expand-link").text("Expand snippet"),r.find(".snippet-show-link").show(),r.find(".snippet-show-link-chevron").show(),n.parent.children().length?t(n.parent.children()[n.indexWithinParent]).before(r):t(n.parent).append(r),i._expandedSnippet=null,t(".topbar").show(),t(".container").show(),t(".top-bar").show(),t("#footer").show(),c.show(),t(e).scrollTop(m)}else{m=t(e).scrollTop();var r=t(this).closest(".snippet");i._expandedSnippet={"element":r,"indexWithinParent":r.index(),"parent":r.parent()},r.addClass("expanded-snippet"),r.find(".snippet-expand-link").text("Return to post"),r.find(".snippet-show-link").hide(),r.find(".snippet-show-link-chevron").hide(),t(".topbar").hide(),t(".container").hide(),t(".top-bar").hide(),t("#footer").hide(),t("body").append(r),c.hide()}});var c=t('<input class="copySnippet btn-secondary" type="button" value="Copy snippet to answer"></input>').click(function(){var e=t("#show-editor-button"),n=t("#post-editor").find("textarea.wmd-input");if(e.is(":visible")){var r=e.offset().top;t("html").animate({"scrollTop":r-60}),t("body").animate({"scrollTop":r-60},{"complete":function(){e.children("input").click()}})}else{var a=n.offset().top;t("html, body").animate({"scrollTop":a-60})}var s=i._state,c=o(s);n.val(n.val()+"\n\n"+c),StackExchange.MarkdownEditor.refreshAllPreviews()}),u=t('<div class="snippet-ctas"></div>').append(r).append(c).append(a);StackExchange.options.isMobile||u.append(s),i._results=t('<div class="snippet-result-code"></div>').append(i._boxResult),i._results.hide();var l=t('<div class="snippet-result"></div>').append(u).append(i._results);return n.append(l),i._snip},"run":function(){var e=this;e._boxResult||(e._boxResult=t('<iframe name="'+f()+'" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit" frameBorder="0"></iframe>'),e._results.append(e._boxResult)),e._boxResult.parent().is(":hidden")&&(e._boxResult.closest(".snippet-result").find(".hideResults").css("display",""),e._boxResult.parent().slideDown(200,function(){if(!e._expandedSnippet){var n=t('<div class="popout"><a>Full page</a></div>'),i=t('<div class="popin"><a>Close</a></div>').hide();n.click(function(){e._boxResult.data("_style",e._boxResult.attr("style")),e._boxResult.css({"position":"fixed","top":0,"left":0,"width":"100%","height":"100%","background-color":"#FFFFFF","z-index":9e3}),e._boxResult.parent().css("position",""),t(this).hide(),i.show(),t("body").css("overflow","hidden")}),i.click(function(){e._boxResult.removeAttr("style"),e._boxResult.attr("style",e._boxResult.data("_style")),e._boxResult.parent().css("position","relative"),t(this).hide(),n.show(),t("body").css("overflow","")}),t(this).append(n).append(i)}})),this.writeResult()},"hide":function(){var e=this;e._boxResult.parent().is(":visible")&&(e._boxResult.closest(".snippet-result").find(".hideResults").hide(),e._boxResult.parent().children(".popout").remove(),e._boxResult.parent().children(".popin").remove(),e._boxResult.parent().slideUp(200,function(){t(this).hide(),e._boxResult.remove(),delete e._boxResult}))},"load":function(t){null!=t.css&&(this._state.css=t.css),null!=t.js&&(this._state.js=t.js),null!=t.html&&(this._state.html=t.html),null!=t.console&&(this._state.console=t.console),null!=t.hide&&(this._state.hide=t.hide),null!=t.babel&&(this._state.babel=t.babel)},"writeResult":function(){var e=this,n=e._state.css,i=e._state.js,r=e._state.html,a=e._state.console,o=e._state.babel;if(""!=n||""!=i||""!=r){var s="";null!=h&&(s="//"+h);var c=s+"/js",u=t('<form style="display: none;" action="'+c+'" method="POST" target="'+e._boxResult.attr("name")+'"></form>');t('<textarea name="js"></textarea>').val(i).appendTo(u),t('<textarea name="css"></textarea>').val(n).appendTo(u),t('<textarea name="html"></textarea>').val(r).appendTo(u),t('<input type="text" name="console"></input>').attr("value",a===!0).appendTo(u),t('<input type="text" name="babel"></input>').attr("value",o===!0).appendTo(u),u.appendTo("body"),u.submit(),u.remove()}},"resize":function(){}};var m,v={};StackExchange.snippets=function(){function e(t,e,n,i,r){function a(t,e,n){for(var i=-1,r=-1;;){if(r=e.indexOf(t,r+1),-1==r)break;(0>i||Math.abs(r-n)<Math.abs(r-i))&&(i=r)}return i}return t.replace(/<!--\s+begin snippet:\s*[a-z]+\s*(?:hide:\s*([a-zA-Z]+))?\s*(?:console:\s*([a-zA-Z]+))?\s*(?:babel:\s*([a-zA-Z]+))?\s+-->([\s\S]*?)<!--\s+end snippet\s+-->/gi,function(t,o,s,c,u,l){var d={"payload":{"code":u,"hide":null!=o&&"true"===o.toLowerCase(),"console":null!=s&&"true"===s.toLowerCase(),"babel":null!=c&&"true"===c.toLowerCase()},"pos":a(t,e,l),"len":t.length};return-1===d.pos?t:(r.push(d),t+"\n\n"+n+i+"-"+(r.length-1)+"%")})}function n(){u(),StackExchange.externalEditor&&i&&(i=!1,StackExchange.externalEditor.init({"thingName":"snippet","thingFinder":e,"editLabel":"edit the above snippet","getDivContent":function(e){var n=null;e&&(n=s(e.code,e.hide,e.console,e.babel));var i=t('<div class="modal auto-center snippet-modal"></div>');return i.snippet({"markdownPluginMode":!0,"state":n}),i},"buttonTooltip":"JavaScript/HTML/CSS snippet","buttonImageUrl":"/content/Shared/balsamiq/wmd-mockup-button.png","onShow":function(e){var n=t(".snippet-modal"),i=function(t){var i=n.data("_snippet").save();if(t||""==i.html&&""==i.css&&""==i.js)e(null);else{var r=o(i);e(r,r)}};n.on("popupClosing",function(t){var e="esc"==t.closeTrigger;if(!e||d)return e&&!confirm("Are you sure you want to abandon any changes?")?(t.preventDefault(),void 0):(i(e),void 0)})}})),StackExchange.MarkdownEditor&&StackExchange.MarkdownEditor.creationCallbacks.add(function(e,n){var i=e.getConverter().hooks;i.chain("preConversion",c);var r=t("#wmd-preview"+n);r.on("wmdrefresh",function(){r.find("pre").each(function(){var e=t(this),n=e.text();if(v[n]){var i=v[n];delete v[n],l(i),e.replaceWith(t("<p></p>").append(i))}})})})}var i=!0;return{"init":n,"initSnippetRenderer":u,"makeSnippets":c}}()}(jQuery,window);